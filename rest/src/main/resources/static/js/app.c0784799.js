(function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],l=0,d=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-17e5f179":"151f9dac","chunk-298288ad":"bc9a24a4","chunk-2d0b3058":"e0325bf5","chunk-2d222d08":"ed905856","chunk-4d2b1333":"3aaf31a0","chunk-535d71a6":"1ac9c8ff","chunk-9b1d3ec2":"d80684d4"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-17e5f179":1,"chunk-298288ad":1,"chunk-4d2b1333":1,"chunk-535d71a6":1,"chunk-9b1d3ec2":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-17e5f179":"50bb3524","chunk-298288ad":"e3ca3073","chunk-2d0b3058":"31d6cfe0","chunk-2d222d08":"31d6cfe0","chunk-4d2b1333":"50bb3524","chunk-535d71a6":"66c5741c","chunk-9b1d3ec2":"50bb3524"}[e]+".css",o=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],f.parentNode.removeChild(f),n(c)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"365c":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return i}));var r=n("bc3a"),a=n.n(r),o=(n("d3b7"),n("4360"));function c(e){return e.interceptors.request.use((function(e){return e.headers["Authorization"]="bearer ".concat(o["a"].state.token),e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),e}function u(){return a.a.create({baseURL:"http://13.124.213.192:8082/"})}function i(){var e=a.a.create({baseURL:"http://13.124.213.192:8082/"});return c(e)}},3786:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n("365c"),a=Object(r["a"])(),o=Object(r["b"])();function c(e){return a.get("users/join/".concat(e))}function u(e,t){return a.post("users",e,{headers:{Authorization:"bearer ".concat(t)}})}function i(e){return a.post("users/login",e)}function s(e){return o.get("users/".concat(e))}},4360:function(e,t,n){"use strict";var r=n("2b0e"),a=n("2f62"),o=n("1da1"),c=(n("4de4"),n("96cf"),n("3786"));n("ac1f"),n("5319");function u(e){document.cookie="til_auth=".concat(e,"; Path=/;")}function i(e){document.cookie="til_user=".concat(e,"; Path=/;")}function s(){return document.cookie.replace(/(?:(?:^|.*;\s*)til_auth\s*=\s*([^;]*).*$)|^.*$/,"$1")}function l(){return document.cookie.replace(/(?:(?:^|.*;\s*)til_user\s*=\s*([^;]*).*$)|^.*$/,"$1")}function d(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}var f=n("ac98"),h=n("6711"),m=n("7381"),b={login:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,Object(c["c"])(t);case 3:return a=n.sent,r("setToken",a.data),r("setLoginEmail",t.email),u(a.data),i(t.email),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n)})))()},logout:function(e){var t=e.commit;t("clearLoginEmail"),t("clearLoginToken"),d("til_auth"),d("til_user")},setTeams:function(e,t){var n=e.commit;n("setTeams",t||[])},setBoards:function(e,t){var n=e.commit;n("setBoards",t||[])},setCards:function(e,t){var n=e.commit;n("setCards",t||[])},refreshTeamsAndEmptyOther:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["i"])();case 2:n=t.sent.data,e.commit("setTeams",n),e.commit("clearBoards"),e.commit("clearCards");case 6:case"end":return t.stop()}}),t)})))()},refreshOnlyBoards:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(h["c"])(t);case 2:r=n.sent.data,e.commit("setBoards",r);case 4:case"end":return n.stop()}}),n)})))()},refreshOnlyCards:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(m["e"])(t);case 2:r=n.sent.data,e.commit("setCards",r),e.commit("clearFilterWord");case 5:case"end":return n.stop()}}),n)})))()},refreshOnlyTeams:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["i"])();case 2:n=t.sent.data,e.commit("setTeams",n);case 4:case"end":return t.stop()}}),t)})))()},refreshOnlyMembers:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(f["h"])(t);case 2:r=n.sent.data,e.commit("setMembers",r);case 4:case"end":return n.stop()}}),n)})))()},refreshSetting:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(f["i"])();case 2:if(a=r.sent.data,!n.$isNotEmpty(t)){r.next=9;break}return r.next=6,Object(h["c"])(t);case 6:o=r.sent.data,e.commit("setTeams",a),e.commit("setBoards",o);case 9:case"end":return r.stop()}}),r)})))()},onCardAdd:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:0==e.state.page.cards.filter((function(e){return e.id==t.id})).length&&e.commit("addCard",t);case 1:case"end":return n.stop()}}),n)})))()},onCardDelete:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("deleteCard",t);case 1:case"end":return n.stop()}}),n)})))()},onCardUpdate:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("카드 업데이트 액션!빔"),e.commit("updateCard",t);case 2:case"end":return n.stop()}}),n)})))()},onRefreshCards:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(m["e"])(t.$route.params.boardId);case 2:r=n.sent.data,e.commit("setCards",r),e.commit("clearFilterWord");case 5:case"end":return n.stop()}}),n)})))()},onCardSelected:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.state.page.cards.filter((function(e){return e.id==t.id}))[0],r.isSelected=!0;case 2:case"end":return n.stop()}}),n)})))()},onChatAdded:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:0==e.state.page.teamChats.filter((function(e){return e.id==t.id})).length&&e.commit("addChat",t);case 1:case"end":return n.stop()}}),n)})))()},onChatUpdated:function(e,t){return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("updateChat",t);case 1:case"end":return n.stop()}}),n)})))()}},p=b,g=function(){return{boards:[],teams:[],cards:[],members:[],filterWord:"",teamChats:[]}},v={email:l()||"",token:s()||"",page:g()},k=v,y=(n("a434"),{setLoginEmail:function(e,t){e.email=t},clearLoginEmail:function(e){e.email=""},clearLoginToken:function(e){e.token=""},setToken:function(e,t){e.token=t},setBoards:function(e,t){e.page.boards=t},clearBoards:function(e){e.page.boards=[]},setTeams:function(e,t){e.page.teams=t},clearTeams:function(e){e.page.teams=[]},setCards:function(e,t){e.page.cards=t},addCard:function(e,t){e.page.cards.push(t)},deleteCard:function(e,t){for(var n=e.page.cards,r=0;r<n.length;r++)if(n[r].id==t.id){n.splice(r,1);break}},updateCard:function(e,t){for(var n=e.page.cards,r=0;r<n.length;r++)if(n[r].id==t.id){n.splice(r,1,t);break}},setChats:function(e,t){e.page.teamChats=t},addChat:function(e,t){e.page.teamChats.push(t)},updateChat:function(e,t){for(var n=e.page.teamChats,r=0;r<n.length;r++)if(n[r].id==t.id){n.splice(r,1,t);break}},clearCards:function(e){e.page.cards=[]},setMembers:function(e,t){e.page.members=t},clearMembers:function(e){e.page.members=[]},setFilterWord:function(e,t){e.page.filterWord=t},clearFilterWord:function(e){e.page.filterWord=""}}),C=y;r["default"].use(a["a"]);t["a"]=new a["a"].Store({state:k,mutations:C,actions:p})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("router-view")],1)},o=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"p-2",staticStyle:{background:"linear-gradient(45deg, #e7e6e3, #cbbde2)"}},[e.isLogin?e._e():n("div",[n("b-nav",{staticStyle:{"justify-content":"flex-end"}},[n("b-nav-item",{attrs:{to:{path:"/login"}}},[e._v("로그인")]),n("b-nav-item",{attrs:{to:{path:"/signup"}}},[e._v("회원가입")])],1)],1),e.isLogin?n("div",[n("b-nav",{staticStyle:{"justify-content":"flex-end"}},[n("b-nav-item",{attrs:{href:"javascript:;"},on:{click:e.logout}},[e._v("로그아웃")])],1)],1):e._e()])},u=[],i={name:"Header",methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/")}},computed:{isLogin:function(){return""!=this.$store.state.email}}},s=i,l=n("2877"),d=Object(l["a"])(s,c,u,!1,null,"3c5b8608",null),f=d.exports,h={name:"app",components:{Header:f},watch:{$route:function(e,t){if(e.path!=t.path&&t.meta.socket){var n=e.params.teamId,r=t.params.teamId;this.$isNotEmpty(r)&&r!=n&&(console.log("unsubscribe team "+r),this.$rt.unsubscribe(this.$rt.channel[t.meta.socket_target](r),this.onRealTimeHandler))}}}},m=h,b=(n("034f"),Object(l["a"])(m,a,o,!1,null,null,null)),p=b.exports,g=n("1da1"),v=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),k=n("4360");r["default"].use(v["a"]);var y=new v["a"]({mode:"history",routes:[{path:"/",redirect:"login"},{path:"/login",component:function(){return n.e("chunk-17e5f179").then(n.bind(null,"48ca"))}},{path:"/main",component:function(){return n.e("chunk-298288ad").then(n.bind(null,"4385"))},meta:{auth:!0}},{path:"/main/:teamId",component:function(){return n.e("chunk-298288ad").then(n.bind(null,"4385"))},meta:{auth:!0,socket:!0,socket_target:"team"},children:[{path:":boardId",component:function(){return n.e("chunk-535d71a6").then(n.bind(null,"06e5"))}}]},{path:"/signup",component:function(){return n.e("chunk-9b1d3ec2").then(n.bind(null,"560f"))}},{path:"/join/:email/:token",component:function(){return n.e("chunk-4d2b1333").then(n.bind(null,"fad5"))}},{path:"/invite/:email/:token",component:function(){return n.e("chunk-2d0b3058").then(n.bind(null,"2730"))}},{path:"*",component:function(){return n.e("chunk-2d222d08").then(n.bind(null,"cfe4"))}}]});y.beforeEach(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("/login"!=t.path||""==k["a"].state.email){e.next=3;break}return r("/main"),e.abrupt("return");case 3:if(!t.meta.auth||""!=k["a"].state.email){e.next=7;break}return console.log("인증이 필요합니다"),r("/login"),e.abrupt("return");case 7:r();case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var C=y;n("4de4"),n("99af");function w(e){var t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1;r=r>9?r:"0".concat(r);var a=t.getDate(),o=t.getHours();o=o>9?o:"0".concat(o);var c=t.getMinutes();return"".concat(n,"-").concat(r,"-").concat(a," ").concat(o,":").concat(c)}function O(e){var t=new Date-new Date(e);return Math.floor(t/864e5)}function j(e,t){return e.length>t?e.substr(0,t)+"...":e.substr(0,t)}r["default"].filter("formatDate",w),r["default"].filter("dayAgo",O),r["default"].filter("cutTextAtStart",j);var R={confirmModal:function(e,t,n){var r={title:e,size:"sm",buttonSize:"sm",okVariant:"primary",okTitle:"확인",cancelTitle:"취소",footerClass:"p-2",hideHeaderClose:!1,centered:!0};Object.assign(r,n);var a=this.$bvModal.msgBoxConfirm(t,r).then((function(e){return!!e})).catch((function(e){return console.log(e),!1}));return a},msgModal:function(e,t,n,r){var a={title:e,size:"sm",buttonSize:"sm",okVariant:"primary",okTitle:"확인",footerClass:"p-2",hideHeaderClose:!1,centered:!0};Object.assign(a,r);var o=this.$bvModal.msgBoxOk(t,a).then((function(e){return!!e})).catch((function(e){return console.log(e),!1}));return o}},_=R,T={defualt:function(e,t){var n={message:e,type:"success",position:"top-right",duration:3e3,dismissible:!0,onClick:void 0,onDismiss:void 0,queue:!1,pauseOnHover:!0};Object.assign(n,t),this.$toast.open(n)}},x=T,$=n("9941"),E={created:!0,beforeMount:!0,mounted:!0,destroyed:!0},S={install:function(e,t){Object.assign(E,t),e.prototype.$confirmModal=_.confirmModal,e.prototype.$msgModal=_.msgModal,e.prototype.$defualtToast=x.defualt,e.prototype.$isNotEmpty=$["c"],e.prototype.$isEmpty=$["a"],e.myGlobalMethod=function(){}}},Q=S,M=n("98ee"),A=n("a4f1"),L=n("5f5b"),P=n("b1e0"),F=(n("f9e3"),n("2dd8"),n("b079")),U=n.n(F);n("4238");r["default"].prototype.$bus=M["a"],r["default"].prototype.$rt=A["a"],r["default"].use(L["a"]),r["default"].use(P["a"]),r["default"].use(U.a),r["default"].use(Q),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(p)},router:C,store:k["a"]}).$mount("#app")},6711:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s}));var r=n("365c"),a=Object(r["b"])();function o(e){return a.get("board/".concat(e))}function c(e){return a.post("board",e)}function u(e){return a.patch("board",e)}function i(e){return a.delete("board/".concat(e))}function s(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return a.patch("board/banner",t)}},7381:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return d}));var r=n("365c"),a=Object(r["b"])();function o(e){return a.get("card/".concat(e))}function c(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return a.post("card",t)}function u(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return a.patch("card",t)}function i(e){return a.delete("card/".concat(e))}function s(e){return a.post("card/replies",e)}function l(e){return a.delete("card/replies/".concat(e))}function d(e){return a.patch("card/position",e)}},"85ec":function(e,t,n){},"98ee":function(e,t,n){"use strict";var r=n("2b0e"),a=new r["default"]({});t["a"]=a},9941:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));n("ac1f"),n("466d");function r(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}function a(e){return"undefined"===typeof e||""===e||null===e}function o(e){return!a(e)}function c(e){return 1===e.length&&e.match(/[a-z]/i)}},a4f1:function(e,t,n){"use strict";var r=n("d4ec"),a=n("bee2"),o=(n("b64b"),n("159b"),n("a434"),n("2b0e")),c=n("cc7d"),u=n.n(c),i=n("98ee"),s={team:function(e){return"/team/"+e}},l=s,d=function(){function e(){Object(r["a"])(this,e),this.serverUrl=null,this.channel=l,this.token=null,this.socket=null,this.authenticated=!1,this.loggedOut=!1,this.$bus=new o["default"],this.subscribeQueue={},this.unsubscribeQueue={}}return Object(a["a"])(e,[{key:"init",value:function(e,t){console.log(e),console.log(t),this.authenticated?console.warn("[RealTimeClient] WS connection already authenticated."):(console.log("[RealTimeClient] Initializing"),this.serverUrl=e,this.token=t,this.connect())}},{key:"logout",value:function(){console.log("[RealTimeClient] Logging out"),this.subscribeQueue={},this.unsubscribeQueue={},this.authenticated=!1,this.loggedOut=!0,this.socket&&this.socket.close()}},{key:"connect",value:function(){var e=this;console.log("[RealTimeClient] Connecting to "+this.serverUrl),this.socket=new u.a("http://13.124.213.192:8082"+this.serverUrl+"?token="+this.token),this.socket.onopen=function(){e.authenticated=!0,e._onConnected()},this.socket.onmessage=function(t){e._onMessageReceived(t)},this.socket.onerror=function(t){e._onSocketError(t)},this.socket.onclose=function(t){e._onClosed(t)}}},{key:"subscribe",value:function(e,t){if(this._isConnected()){var n={action:"subscribe",channel:e};this._send(n),this.$bus.$on(this._channelEvent(e),t),console.log("[RealTimeClient] Subscribed to channel "+e)}else this._addToSubscribeQueue(e,t)}},{key:"unsubscribe",value:function(e,t){if(!this.loggedOut)if(this._isConnected()){var n={action:"unsubscribe",channel:e};this._send(n),this.$bus.$off(this._channelEvent(e),t),console.log("[RealTimeClient] Unsubscribed from channel "+e)}else this._addToUnsubscribeQueue(e,t)}},{key:"unsubscribeAll",value:function(e,t){if(!this.loggedOut)if(this._isConnected()){var n={action:"unsubscribeAll",channel:e};this._send(n),this.$bus.$off(this._channelEvent(e),t),console.log("[RealTimeClient] Unsubscribed All from channel "+e)}else this._addToUnsubscribeQueue(e,t)}},{key:"_isConnected",value:function(){return this.socket&&this.socket.readyState===u.a.OPEN}},{key:"_onConnected",value:function(){i["a"].$emit("RealTimeClient.connected"),console.log("[RealTimeClient] Connected"),this._processQueues()}},{key:"_onMessageReceived",value:function(e){var t=JSON.parse(e.data);console.log("[RealTimeClient] Received message",t),console.log(t),console.log(t.channel),t.channel&&(console.log("채널 메세지를 받음"),this.$bus.$emit(this._channelEvent(t.channel),JSON.parse(t.payload)))}},{key:"_send",value:function(e){this.socket.send(JSON.stringify(e))}},{key:"_onSocketError",value:function(e){console.error("[RealTimeClient] Socket error",e)}},{key:"_onClosed",value:function(e){var t=this;console.log("[RealTimeClient] Received close event",e),this.loggedOut?(console.log("[RealTimeClient] Logged out"),i["a"].$emit("RealTimeClient.loggedOut")):(console.log("[RealTimeClient] Disconnected"),i["a"].$emit("RealTimeClient.disconnected"),setTimeout((function(){console.log("[RealTimeClient] Reconnecting"),i["a"].$emit("RealTimeClient.reconnecting"),t.connect()}),1e3))}},{key:"_channelEvent",value:function(e){return"channel:"+e}},{key:"_processQueues",value:function(){var e=this;console.log("[RealTimeClient] Processing subscribe/unsubscribe queues");var t=Object.keys(this.subscribeQueue);t.forEach((function(t){var n=e.subscribeQueue[t];n.forEach((function(n){e.subscribe(t,n),e._removeFromQueue(e.subscribeQueue,t,n)}))}));var n=Object.keys(this.unsubscribeQueue);n.forEach((function(t){var n=e.unsubscribeQueue[t];n.forEach((function(n){e.unsubscribe(t,n),e._removeFromQueue(e.unsubscribeQueue,t,n)}))}))}},{key:"_addToSubscribeQueue",value:function(e,t){console.log("[RealTimeClient] Adding channel subscribe to queue. Channel: "+e),this._removeFromQueue(this.unsubscribeQueue,e,t);var n=this.subscribeQueue[e];n?n.push(t):this.subscribeQueue[e]=[t]}},{key:"_addToUnsubscribeQueue",value:function(e,t){console.log("[RealTimeClient] Adding channel unsubscribe to queue. Channel: "+e),this._removeFromQueue(this.subscribeQueue,e,t);var n=this.unsubscribeQueue[e];n?n.push(n):this.unsubscribeQueue[e]=[t]}},{key:"_removeFromQueue",value:function(e,t,n){var r=e[t];if(r){var a=r.indexOf(n);a>-1&&r.splice(a,1)}}}]),e}();t["a"]=new d},ac98:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return b}));n("99af");var r=n("365c"),a=Object(r["b"])(),o=Object(r["a"])();function c(){return a.get("teams")}function u(e){return a.post("teams",e)}function i(e){return a.patch("teams",e)}function s(e){return a.delete("teams/".concat(e))}function l(e,t){return a.get("teams/invite/".concat(e,"/").concat(t))}function d(e,t){return o.patch("teams/join",{email:e},{headers:{Authorization:"bearer ".concat(t)}})}function f(e){return a.get("teams/members/".concat(e))}function h(e,t,n){return a.get("teams/chat/".concat(n,"?page=").concat(e,"&size=").concat(t))}function m(e){return a.delete("teams/chat/".concat(e))}function b(e){return a.post("teams/chat",e)}}});
//# sourceMappingURL=app.c0784799.js.map